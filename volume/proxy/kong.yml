# ------------------------------------------------------------------------------
# This is an example file to get you started with using
# declarative configuration in Kong.
# ------------------------------------------------------------------------------

# Metadata fields start with an underscore (_)
# Fields that do not start with an underscore represent Kong entities and attributes

# _format_version is mandatory,
# it specifies the minimum version of Kong that supports the format

_format_version: "2.1"

services:
 - name: full_node_ws 
   url: http://full_node:9944
   tags: ["da"]
   routes:
   - name: ws_route
     protocols: ["https", "http"]
     paths: ["/ws"]
     request_buffering: false
     response_buffering: false
     snis: ["polygon-da-explorer.matic.today"]
     strip_path: true
     preserve_host: true
 
 - name: dapp 
   url: http://dapp
   tags: ["da"]
   routes:
   - name: web_root_route
     protocols: ["https", "http"]
     paths: ["/"]
     request_buffering: false
     response_buffering: false
     snis: ["polygon-da-explorer.matic.today"]
     preserve_host: true
    
certificates:
  - tags: ["da"]
    cert: |
      -----BEGIN CERTIFICATE-----
      -----END CERTIFICATE-----
    key: |
      -----BEGIN PRIVATE KEY-----
      -----END PRIVATE KEY-----
    snis:
      - name: "polygon-da-explorer.matic.today"
